# Changelog

## v2.6, 14/12/2018
- Use the LOGINID environment variable to get the user AD login by default.

## v2.5, 23/08/2018
- Add `noop` arg for `runpuppet`

## v2.4, 10/08/2018
- Remove the `data` subcommand

## v2.3, 20/06/2018
- Remove the use of a nix-shell for executing each command
- Provide a docker environment

## v2.2, 22/05/2018
- Never cache facts when the `--down` flag is used.
- Remove `language-puppet` dependency

## v2.1, 11/05/2018
- New `validate` subcommand
- Add `-i` option to target instances
- The pinned meta file (`.nixpkgs.json`) is now part of the project source

## v2.0, 28/04/2018

### Breaking Changes

[WARNING]
====
The https://github.com/CIRB/devbox/blob/master/user/config/shell.dhall[box.dhall] configuration file has been changed significantly in 2.0:

- `password` has been removed.
- `defaultStack` has been renamed to `defaultStacks`. It is now a list.

The cicd shell will ask for your AD password the first time you use it.
====

### Other changes
- The verbose mode is now the default. The `--verbose` flag has been replaced by a `--quiet` flag.


## v1.8, 08/04/2018


- The result of any `facts` command is cached when first invoked.
You can use the `--refresh` flag to force the facts to be remotely fetched again.
- When running `runpuppet -n`, the command won't pass the hostgroup anymore.

## v1.7, 26/03/2018

- add the `foreman` subcommand

## v1.6, 25/09/2017

WARNING: the configuration file is now prefixed with the `dhall` extension

- `orch` and `result` subcommands now accept the `--verbose` flag
- add a `--dry` flag
- add the `state` subcommand to apply configuration on a node

## v1.5, 28/07/2017
- `cicd` will search its config file both in /vagrant/config/shell.dhall and ~/.config/cicd/shell.dhall in that order

## v1.4, /05/2017
- add `cicd ZONE setfacts --subgroup=SUBGROUP --role=ROLE --hostgroup=HOSTGROUP --zone ZONE

## v1.3, 08/05/2017

### changes
- `cicd help` is now `cicd doc`

## v1.2, 26/04/2017

- add
* `cicd help html`
* `cicd help mod MOD`
* `cicd help modules`
- add `--raw` option to display output without `jq` pretty printer
- add `--verbose` option to display the executed command
- allow `--all` to be used with the `data` subcommand
- increase default timeout (up to 3min) for synchronous `runpuppet`
- provide completion for salt modules in the console

## v1.1, 19/04/2017

- `retries` when a command fails
- fix issues with the `result` subcommand output
